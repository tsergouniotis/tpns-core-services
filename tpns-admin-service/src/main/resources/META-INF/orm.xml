<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/orm_2_1.xsd"
	version="2.1">

	<persistence-unit-metadata>
		<xml-mapping-metadata-complete />
		<persistence-unit-defaults>
			<cascade-persist />
		</persistence-unit-defaults>
	</persistence-unit-metadata>

	<entity class="com.tpns.admin.domain.Property">
		<table name="properties" />
		<named-query name="Property.findByPropertyIds">
			<query>SELECT p from Property p where p.propertyId in (:propertyIds)</query>
		</named-query>
		<attributes>
			<id name="id" access="FIELD">
				<column name="database_id" />
				<generated-value strategy="SEQUENCE" generator="PROPERTYSEQ" />
				<sequence-generator name="PROPERTYSEQ"
					sequence-name="PROPERTYSEQ" allocation-size="1" />
			</id>
			<basic name="propertyId">
				<column name="property_id" length="255" unique="true" />
			</basic>
			<basic name="url">
				<column name="url" length="255" unique="true" />
			</basic>
			<basic name="description">
				<column name="property_desc" length="255" />
			</basic>
		</attributes>
	</entity>

	<entity class="com.tpns.admin.domain.ArticleId" access="PROPERTY">
		<table name="articles" />
		<attributes>
			<id name="id">
				<column name="database_id" />
				<generated-value strategy="SEQUENCE" generator="ARTICLESEQ" />
				<sequence-generator name="ARTICLESEQ"
					sequence-name="ARTICLESEQ" allocation-size="1" />
			</id>
			<basic name="guid">
				<column name="guid" insertable="false" updatable="false" />
			</basic>
			<transient name="guidStr"/>
		</attributes>
	</entity>

	<entity class="com.tpns.admin.domain.ArticleDistributionReport"
		access="FIELD">
		<table name="article_distribution_report" />
		<attributes>
			<id name="id">
				<column name="database_id" />
				<generated-value strategy="SEQUENCE"
					generator="ARTICLEDISTRIBUTIONREPORTSEQ" />
				<sequence-generator name="ARTICLEDISTRIBUTIONREPORTSEQ"
					sequence-name="ARTICLEDISTRIBUTIONREPORTSEQ" allocation-size="1" />
			</id>
			<basic name="property">
				<column name="property" />
			</basic>
			<basic name="status">
				<column name="processing_result" />
			</basic>
			<basic name="createdAt">
				<column name="created_at" insertable="false" updatable="false" />
			</basic>
			<many-to-one name="articleId">
				<join-column name="article_sid" />
			</many-to-one>
		</attributes>
	</entity>

	<converter
		class="com.tpns.jpa.common.converters.LocalDateTimeAttributeConverter"
		auto-apply="true" />

<!-- 	<converter class="com.tpns.jpa.postgres.converters.UUIDConverter"
		auto-apply="true" /> -->

</entity-mappings>